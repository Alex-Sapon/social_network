{"version":3,"file":"static/js/376.3f8fe4e6.chunk.js","mappings":"+NACA,EAA8B,4B,uFCOjBA,EAAS,SAACC,GASfA,EAPAC,GADJ,IAEIC,EAMAF,EANAE,SACAC,EAKAH,EALAG,OAGAC,GAEAJ,EAJAK,eAIAL,EAHAM,iBAGAN,EAFAI,wBAEAJ,EADAO,qBAGJ,OACI,iCACI,SAAC,KAAD,CAASC,GAAE,GAAX,UACI,UAACC,EAAA,GAAD,CAAUC,UAAWC,EAArB,WACI,SAACC,EAAA,EAAD,WACI,SAACC,EAAA,EAAD,CAAQC,IAAI,SAASC,IAAKZ,EAAOa,MAAQb,EAAOa,MAAQC,OAE5D,SAACC,EAAA,EAAD,CACIC,GAAI,CAACC,MAAO,OACZC,QAASnB,KAGb,SAACoB,EAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,iBAAlC,SACK,IAAIC,KAAKrB,GAAwBsB,6BAI9C,SAACC,EAAA,EAAD,CAASJ,QAAQ,QAAQK,UAAU,KAAKT,GAAI,CAACC,MAAO,MAAOS,GAAI,c,oBCnC3E,EAAoC,mCCkEpC,GAAeC,EAAAA,EAAAA,IAAuBC,EAAAA,EAAtC,EA/CyB,YACEC,EAAAA,EAAAA,IAAWC,EAAAA,IAA3BC,aAAP,IAEMC,GAAUC,EAAAA,EAAAA,KAAe,SAAAC,GAAK,OAAIA,EAAMC,YAAYH,WAEpDI,IADQH,EAAAA,EAAAA,KAAe,SAAAC,GAAK,OAAIA,EAAMC,YAAYE,UACtCJ,EAAAA,EAAAA,KAAe,SAAAC,GAAK,OAAIA,EAAMC,YAAYC,cAuB5D,OANAE,EAAAA,EAAAA,YAAU,WAES,IAAIC,UAAU,kEAE9B,IAECH,GACO,SAACI,EAAA,EAAD,KAIP,gBAAKjC,UAAWC,EAAhB,UAMI,SAACiC,EAAA,EAAD,UACKT,GAAWA,EAAQU,KAAI,SAAAC,GAAM,OAAI,SAAC/C,GAAD,UAA4B+C,GAAfA,EAAO7C","sources":["webpack://social-app-ts/./src/components/Dialogs/Dialog/Dialog.module.css?19be","components/Dialogs/Dialog/Dialog.tsx","webpack://social-app-ts/./src/components/Dialogs/Dialogs.module.css?1b2e","components/Dialogs/Dialogs.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialog_item\":\"Dialog_dialog_item__p+iiO\"};","import React from 'react';\r\nimport styles from './Dialog.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nimport {Avatar, Divider, ListItem, ListItemAvatar, ListItemText, Typography} from '@mui/material';\r\nimport {IAllDialogs} from '../apiDialogs';\r\nimport userAvatar from '../../../assets/img/avatar/avatar.jpg';\r\n\r\nexport const Dialog = (props: IAllDialogs) => {\r\n    const {\r\n        id,\r\n        userName,\r\n        photos,\r\n        hasNewMessages,\r\n        newMessagesCount,\r\n        lastDialogActivityDate,\r\n        lastUserActivityDate\r\n    } = props;\r\n\r\n    return (\r\n        <>\r\n            <NavLink to={``}>\r\n                <ListItem className={styles.dialog_item}>\r\n                    <ListItemAvatar>\r\n                        <Avatar alt=\"Avatar\" src={photos.small ? photos.small : userAvatar}/>\r\n                    </ListItemAvatar>\r\n                    <ListItemText\r\n                        sx={{width: '50%'}}\r\n                        primary={userName}\r\n                        // secondary={}\r\n                    />\r\n                    <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        {new Date(lastDialogActivityDate).toLocaleDateString()}\r\n                    </Typography>\r\n                </ListItem>\r\n            </NavLink>\r\n            <Divider variant=\"inset\" component=\"li\" sx={{width: '80%', mt: '-1px'}}/>\r\n        </>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"dialogs_container\":\"Dialogs_dialogs_container__98ZHg\"};","import {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\nimport React, {ComponentType, useEffect} from 'react';\r\nimport {useActions, useAppSelector} from '../../assets/utils';\r\nimport {Grid, List, Typography} from '@mui/material';\r\nimport {Dialog} from './Dialog/Dialog';\r\nimport {MessageFormData} from './AddMessageForm';\r\nimport {MessageFormDataType} from './AddMessageForm/AddMessageForm';\r\nimport {dialogsAsyncActions} from './dialogs-reducer';\r\nimport {Preloader} from '../../common/Preloader'\r\nimport styles from './Dialogs.module.css';\r\n\r\ntype MessagesType =   {\r\n    message: string\r\n    photo: string\r\n    userId: number\r\n    userName: string\r\n}\r\n\r\n\r\nconst DialogsContainer = () => {\r\n    const {fetchDialogs} = useActions(dialogsAsyncActions);\r\n\r\n    const dialogs = useAppSelector(state => state.dialogsPage.dialogs);\r\n    const users = useAppSelector(state => state.dialogsPage.users);\r\n    const isLoading = useAppSelector(state => state.dialogsPage.isLoading);\r\n\r\n    // useEffect(() => {\r\n    //     const socket = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx');\r\n    //\r\n    //     // socket.onmessage = ev => {\r\n    //     //\r\n    //     // }\r\n    //\r\n    // }, [])\r\n\r\n    const onSubmit = (formData: MessageFormDataType) => {\r\n        const message = formData.messageForm;\r\n\r\n        // message && message.trim() !== '' && addMessage(message);\r\n    };\r\n\r\n    useEffect(() => {\r\n        // fetchDialogs();\r\n        const socket = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx');\r\n\r\n    }, [])\r\n\r\n    if (isLoading) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div className={styles.dialogs_container}>\r\n            {/*<Grid item xs={4}>*/}\r\n            {/*    <List>*/}\r\n            {/*        /!*{users.map(user => <Dialog key={user.id} id={user.id} name={user.name}/>)}*!/*/}\r\n            {/*    </List>*/}\r\n            {/*</Grid>*/}\r\n            <List>\r\n                {dialogs && dialogs.map(dialog => <Dialog key={dialog.id} {...dialog}/>)}\r\n                {/*<MessageFormData onSubmit={onSubmit}/>*/}\r\n            </List>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default compose<ComponentType>(withAuthRedirect)(DialogsContainer);\r\n"],"names":["Dialog","props","id","userName","photos","lastDialogActivityDate","hasNewMessages","newMessagesCount","lastUserActivityDate","to","ListItem","className","styles","ListItemAvatar","Avatar","alt","src","small","userAvatar","ListItemText","sx","width","primary","Typography","variant","color","Date","toLocaleDateString","Divider","component","mt","compose","withAuthRedirect","useActions","dialogsAsyncActions","fetchDialogs","dialogs","useAppSelector","state","dialogsPage","isLoading","users","useEffect","WebSocket","Preloader","List","map","dialog"],"sourceRoot":""}