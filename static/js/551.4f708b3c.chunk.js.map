{"version":3,"file":"static/js/551.4f708b3c.chunk.js","mappings":"kPACA,EAAmH,qB,gDCqBnH,EATe,SAAC,GAA4B,IAA3BA,EAA0B,EAA1BA,GAAIC,EAAsB,EAAtBA,KACjB,OACI,UAACC,EAAA,GAAD,YACI,SAACC,EAAA,EAAD,CAAYC,GAAI,CAACC,MAAOC,EAAAA,EAAMC,GAAI,aAClC,SAAC,KAAD,CAASC,UAAWC,EAAaC,GAAE,UAAKV,GAAxC,SAA+CC,Q,8BCC3D,EATmC,SAAC,GAAe,IAAdU,EAAa,EAAbA,QACjC,OACI,UAACC,EAAA,EAAD,CAAMR,GAAI,CAACS,GAAI,OAAQC,QAAS,UAAhC,WACI,SAACC,EAAA,EAAD,CAAQC,IAAI,SAASC,IAAKC,KAC1B,SAACC,EAAA,EAAD,CAAYf,GAAI,CAACgB,SAAU,UAA3B,SAAuCT,Q,UCGtCU,GAAkBC,E,OAAAA,GAA+B,CAACC,KAAM,eAAtCD,EATX,SAAC,GAA4D,IAA3DE,EAA0D,EAA1DA,aAClB,OACI,kBAAMC,SAAUD,EAAhB,WACI,SAACE,EAAA,EAAD,CAAOzB,KAAK,cAAc0B,UAAU,WAAWC,KAAK,cACpD,mD,UCyCZ,GAAeC,EAAAA,EAAAA,IAAuBC,EAAAA,EAAtC,EAxC0B,WACtB,IAAMC,GAAWC,EAAAA,EAAAA,KAAe,SAAAC,GAAK,OAAIA,EAAMC,aAAaH,YACtDI,GAAQH,EAAAA,EAAAA,KAAe,SAAAC,GAAK,OAAIA,EAAMC,aAAaC,UAEzDC,EAAAA,EAAAA,YAAU,WACS,IAAIC,UAAU,kEAM9B,IAEH,IAAMC,GAAWC,EAAAA,EAAAA,MASjB,OACI,UAACC,EAAA,GAAD,CAAMC,WAAS,EAACC,QAAS,EAAzB,WACI,SAACF,EAAA,GAAD,CAAMG,MAAI,EAACC,GAAI,GAAf,UACI,SAACzB,EAAA,EAAD,CAAYf,GAAI,CAACgB,SAAU,UAA3B,6BAEJ,SAACoB,EAAA,GAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,UACI,SAACC,EAAA,EAAD,UACKV,EAAMW,KAAI,SAAAC,GAAI,OAAI,SAAC,EAAD,CAAsB/C,GAAI+C,EAAK/C,GAAIC,KAAM8C,EAAK9C,MAAjC8C,EAAK/C,YAG7C,UAACwC,EAAA,GAAD,CAAMG,MAAI,EAACC,GAAI,EAAf,UACKb,EAASe,KAAI,SAAAE,GAAI,OAAI,SAAC,EAAD,CAAuBrC,QAASqC,EAAKrC,SAAvBqC,EAAKhD,QACzC,SAACqB,EAAD,CAAiBI,SAnBZ,SAACwB,GACd,IAAMtC,EAAUsC,EAASC,YAEzBvC,GAA8B,KAAnBA,EAAQwC,QAAiBb,GAASc,EAAAA,EAAAA,IAAWzC,IACxD2B,GAASe,EAAAA,EAAAA,IAAa,qB,wBC7B1BC,EAAyBC,EAAQ,MAKrCC,EAAQ,OAAU,EAElB,IAAIC,EAAiBH,EAAuBC,EAAQ,OAEhDG,EAAcH,EAAQ,KAEtBI,GAAW,EAAIF,EAAeG,UAAuB,EAAIF,EAAYG,KAAK,OAAQ,CACpFC,EAAG,kHACD,UAEJN,EAAQ,EAAUG","sources":["webpack://social-app-ts/./src/components/Messages/Dialog/Dialog.module.css?07ac","components/Messages/Dialog/Dialog.tsx","components/Messages/Message/Message.tsx","components/Messages/AddMessageForm/AddMessageForm.tsx","components/Messages/Messages.tsx","../node_modules/@mui/icons-material/Person.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialog_dialogs__5Ub3u\",\"title\":\"Dialog_title__jKJEh\",\"list\":\"Dialog_list__OS4a3\",\"item\":\"Dialog_item__tN0Dd\",\"messages\":\"Dialog_messages__NoCQm\"};","import React from 'react';\r\nimport styles from './Dialog.module.css';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nimport PersonIcon from '@mui/icons-material/Person';\r\nimport {grey} from '@mui/material/colors';\r\nimport {ListItem} from '@mui/material';\r\n\r\ntype DialogType = {\r\n    id: string\r\n    name: string\r\n}\r\n\r\nconst Dialog = ({id, name}: DialogType) => {\r\n    return (\r\n        <ListItem>\r\n            <PersonIcon sx={{color: grey, mr: '0.5rem'}}/>\r\n            <NavLink className={styles.item} to={`${id}`}>{name}</NavLink>\r\n        </ListItem>\r\n    )\r\n}\r\n\r\nexport default Dialog;","import React, {FC} from 'react';\r\nimport {Avatar, Card, Typography} from \"@mui/material\";\r\nimport styles from './Message.module.css';\r\nimport avatar from '../../../assets/img/avatar/avatar.jpg';\r\n\r\ntype MessagesProps = {\r\n    message: string\r\n}\r\n\r\nconst Message: FC<MessagesProps> = ({message}) => {\r\n    return (\r\n        <Card sx={{mb: '1rem', padding: '0.4rem'}}>\r\n            <Avatar alt=\"avatar\" src={avatar}/>\r\n            <Typography sx={{fontSize: '0.9rem'}}>{message}</Typography>\r\n        </Card>\r\n    )\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport {Field, InjectedFormProps, reduxForm} from 'redux-form';\r\n\r\nexport type MessageFormDataType = {\r\n    messageForm: string\r\n}\r\n\r\nconst MessageForm = ({handleSubmit}: InjectedFormProps<MessageFormDataType>) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <Field name=\"messageForm\" component=\"textarea\" type=\"textarea\"/>\r\n            <button>Send message</button>\r\n        </form>\r\n    )\r\n};\r\n\r\nexport const MessageFormData = reduxForm<MessageFormDataType>({form: 'messageForm'})(MessageForm);\r\n","import {addMessage, fetchDialogs} from './messages-reducer';\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect';\r\nimport {compose} from 'redux';\r\nimport React, {ComponentType, useEffect} from 'react';\r\nimport {useAppSelector} from '../../assets/utils';\r\nimport {Grid, List, Typography} from '@mui/material';\r\nimport Dialog from './Dialog/Dialog';\r\nimport Message from './Message/Message';\r\nimport {MessageFormData} from './AddMessageForm';\r\nimport {useDispatch} from 'react-redux';\r\nimport {MessageFormDataType} from './AddMessageForm/AddMessageForm';\r\n\r\nconst MessagesContainer = () => {\r\n    const messages = useAppSelector(state => state.messagesPage.messages);\r\n    const users = useAppSelector(state => state.messagesPage.users);\r\n\r\n    useEffect(() => {\r\n        const socket = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx');\r\n\r\n        // socket.onmessage = ev => {\r\n        //\r\n        // }\r\n\r\n    }, [])\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onSubmit = (formData: MessageFormDataType) => {\r\n        const message = formData.messageForm;\r\n\r\n        message && message.trim() !== '' && dispatch(addMessage(message));\r\n        dispatch(fetchDialogs(23550))\r\n    };\r\n\r\n    return (\r\n        <Grid container spacing={2}>\r\n            <Grid item xs={12}>\r\n                <Typography sx={{fontSize: '1.5rem'}}>Your friends</Typography>\r\n            </Grid>\r\n            <Grid item xs={4}>\r\n                <List>\r\n                    {users.map(user => <Dialog key={user.id} id={user.id} name={user.name}/>)}\r\n                </List>\r\n            </Grid>\r\n            <Grid item xs={8}>\r\n                {messages.map(text => <Message key={text.id} message={text.message}/>)}\r\n                <MessageFormData onSubmit={onSubmit}/>\r\n            </Grid>\r\n        </Grid>\r\n    )\r\n};\r\n\r\nexport default compose<ComponentType>(withAuthRedirect)(MessagesContainer);\r\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z\"\n}), 'Person');\n\nexports.default = _default;"],"names":["id","name","ListItem","Person","sx","color","grey","mr","className","styles","to","message","Card","mb","padding","Avatar","alt","src","avatar","Typography","fontSize","MessageFormData","reduxForm","form","handleSubmit","onSubmit","Field","component","type","compose","withAuthRedirect","messages","useAppSelector","state","messagesPage","users","useEffect","WebSocket","dispatch","useDispatch","Grid","container","spacing","item","xs","List","map","user","text","formData","messageForm","trim","addMessage","fetchDialogs","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d"],"sourceRoot":""}