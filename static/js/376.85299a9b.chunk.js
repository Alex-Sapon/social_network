"use strict";(self.webpackChunksocial_app_ts=self.webpackChunksocial_app_ts||[]).push([[376],{4376:function(e,a,n){n.r(a),n.d(a,{default:function(){return w}});var s=n(1413),r=n(2982),t=n(885),o=n(2791),c=n(493),l="Dialog_chat_item__PUS88",i="Dialog_chat_text__nEvwB",u=n(4852),d=n(653),f=n(3044),_=n(9900),h=n(2653),v=n(3504),j=n(184),m=function(e){var a=e.userName,n=e.photo,s=e.message,r=e.userId;return(0,j.jsxs)(u.ZP,{className:l,children:[(0,j.jsx)(d.Z,{children:(0,j.jsx)(v.OL,{to:"/profile/".concat(r),children:(0,j.jsx)(f.Z,{alt:"Avatar",src:n||h})})}),(0,j.jsx)(_.Z,{className:i,primary:a,secondary:s||"..."})]})},x=n(6151),p=n(1686),C="Dialogs_chat_container__ktkjh",Z="Dialogs_chat_list__0XrCr",g="Dialogs_logo__LCd1y",k="Dialogs_chat_send__J+3RN",N=n(7781),b=n(2932),S=n(6746),w=(0,N.qC)(b.D)((function(){var e=(0,o.useState)([]),a=(0,t.Z)(e,2),n=a[0],l=a[1],i=(0,o.useState)(),u=(0,t.Z)(i,2),d=u[0],f=u[1],_=(0,o.useState)(""),h=(0,t.Z)(_,2),v=h[0],x=h[1],N=(0,o.useRef)(null);(0,o.useEffect)((function(){var e=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx");f(e),e.onmessage=function(e){l((function(a){return[].concat((0,r.Z)(a),(0,r.Z)(JSON.parse(e.data)))}))}}),[]),(0,o.useEffect)((function(){var e;null===(e=N.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[n]);var b=function(){v.trim()&&(null===d||void 0===d||d.send(v)),x("")};return(0,j.jsxs)("div",{className:C,children:[(0,j.jsx)("div",{className:g}),(0,j.jsxs)(c.Z,{className:Z,children:[n.map((function(e,a){return(0,j.jsx)(m,(0,s.Z)({},e),a)})),(0,j.jsx)("div",{ref:N})]}),(0,j.jsxs)("div",{className:k,children:[(0,j.jsx)("input",{placeholder:"Type a message...",value:v,onKeyPress:function(e){"Enter"===e.key&&b()},onChange:function(e){return x(e.currentTarget.value)}}),(0,j.jsx)(D,{variant:"outlined",endIcon:(0,j.jsx)(p.Z,{}),onClick:b,children:"Send"})]})]})})),D=(0,S.Z)(x.Z)((function(){return{color:"#79C7C5",backgroundColor:"#e6f4f6",borderColor:"#e6f4f6","&:hover":{backgroundColor:"#e6f4f6",borderColor:"#79C7C5"}}}))},1686:function(e,a,n){var s=n(4119);a.Z=void 0;var r=s(n(5649)),t=n(184),o=(0,r.default)((0,t.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");a.Z=o}}]);
//# sourceMappingURL=376.85299a9b.chunk.js.map